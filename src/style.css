@tailwind base;
@tailwind components;
@tailwind utilities;

body {
    background-color: var(--background-color);
    transition: background-color 0.3s ease; /* Smooth transition */
}

@layer utilities {
    #time-display {
        font-family: "Doto", serif;
        font-weight: 400; /* Regular weight */
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: scale(0.5);
        }
        to {
            opacity: 1;
            transform: scale(1);
        }
    }

    .state-indicator {
        @apply w-2 h-2 rounded-full;
        animation: fadeIn 0.3s ease-in-out;
    }

    .state-indicator-on {
        background-color: var(--accent-color);
        box-shadow: 0 0 10px var(--accent-color), 0 0 20px var(--accent-color);
    }

    .state-indicator-off {
        background-color: var(--background-color);
        box-shadow: none;
    }

    .spree-length {
        @apply h-2 w-48 rounded-full;
        background-color: var(--primary-color);
        box-shadow: inset var(--shadow-light), inset var(--shadow-dark);
    }

    .spree-length-indicator {
        @apply h-2 rounded-full;
        background-color: var(--accent-color);
        width: 0%; /* Start at 0% */
        transition: width 0.3s ease-in-out; /* Smooth transition for width change */
    }

    .neumorphic-circle {
        @apply absolute w-60 h-60 rounded-full flex items-center justify-center z-10 shadow-lg;
        background-color: var(--background-color); /* Dynamic background color */
        /* Inverse neumorphic shadows with directional lighting */
        box-shadow: inset var(--shadow-light), inset var(--shadow-dark);
        color: var(--primary-color); /* Dynamic text color */
    }

    .neumorphic-box {
        @apply shadow-lg rounded-lg;
        background-color: var(--background-color);
        box-shadow: var(--shadow-light), var(--shadow-dark);
        
    }

    .neumorphic-button {
        
        @apply text-base font-semibold py-2 px-2 rounded-lg flex items-center justify-center;
        color: var(--accent-color);
        background-color: var(--background-color);
        box-shadow: var(--shadow-light), var(--shadow-dark);
        transition: transform 0.1s ease-in-out;
    }

    .neumorphic-button:active {
        transform: scale(0.95);
        box-shadow: inset var(--shadow-light), inset var(--shadow-dark);
    }

    .neumorphic-form {
        @apply text-sm font-semibold py-2 px-2 rounded-lg;
        color: var(--primary-color);
        background-color: var(--background-color);
        box-shadow: inset var(--shadow-dark),inset var(--shadow-light);
        transition: transform 0.1s ease-in-out;
    }

    .neumorphic-form:focus {
        box-shadow: 0 0 10px var(--accent-color), inset var(--shadow-dark), inset var(--shadow-light);
        outline: none; /* Remove default focus outline if necessary */
        transform: scale(1.02); /* Slightly enlarge for a more interactive feel (optional) */
    }

    .neumorphic-form[type="number"] {
        appearance: textfield; /* Removes the slider in most modern browsers */
    }
    
    .neumorphic-form[type="number"]::-webkit-inner-spin-button,
    .neumorphic-form[type="number"]::-webkit-outer-spin-button {
        appearance: none; /* Removes the slider for WebKit-based browsers */
        margin: 0; /* Ensures no unexpected spacing */
    }

    .neumorphic-form::-webkit-scrollbar {
        display: none; /* Hide scrollbar for WebKit browsers */
    }

    .divider {
        @apply w-full h-[2px] my-4 mx-4;
        background-color: var(--primary-color);
        opacity: 0.1;
    }

    /* Progress Ring Glow */
    #progress-ring {
        transition: stroke-dashoffset 1s linear;
        stroke-dasharray: 283; /* Match circumference calculation */
        filter:  drop-shadow(0 0 10px var(--accent-color));
    }

    .material-symbols-outlined {
        font-variation-settings:
            'FILL' 0, /* Set 1 for filled, 0 for outlined */
            'wght' 400, /* Weight */
            'GRAD' 0, /* Gradient */
            'opsz' 24; /* Optical size */
        font-size: 24px; /* Adjust size */
        /* color: var(--primary-color); Dynamic color based on theme */
        transition: color 0.3s ease;
    }

    

    /* Timer Circular Border */
    #timer-circle {
        border-color: var(--primary-color);
    }

    /* Timer Active State */
    #timer-circle.active {
        border-color: var(--accent-color);
        box-shadow: 0 0 10px var(--accent-color), 0 0 20px var(--accent-color);
    }

    /* Timer Paused State */
    #timer-circle.paused {
        border-color: var(--primary-color);
        box-shadow: none;
    }

    /* Blinking Colon */
    @keyframes blink {
        50% {
            opacity: 0;
        }
    }
    
    /* Blinking colon only when this class is added */
    .blinking {
        animation: blink 1s step-end infinite;
    }


    /* Labels */
    #settings label {
        font-size: 0.9rem;
        color: var(--primary-color);
    }

    /* Input Fields */
    /* #settings input {
        appearance: none;
        outline: none;
        box-shadow: var(--shadow-light), var(--shadow-dark);
        border: none;
        background-color: var(--background-color);
        color: var(--primary-color);
        font-size: 1rem;
        padding: 0.5rem;
        border-radius: 0.5rem;
        text-align: center;
    } */
/* 
    #settings input:focus {
        box-shadow: inset var(--shadow-light), inset var(--shadow-dark);
    } */


    /* To Do List Styles */
    /* Main Container */
    .todo-container {
        @apply overflow-y-auto relative;
        background-color: var(--background-color);
        color: var(--primary-color);
    }
    
    .todo-container::-webkit-scrollbar {
        display: none; /* Hide scrollbar for WebKit browsers */
    }
    
    .todo-container {
        scrollbar-width: none; /* Hide scrollbar for Firefox */
    }

    .task-list {
        @apply overflow-y-auto relative;
    }

    .task-list::-webkit-scrollbar {
        display: none; /* Hide scrollbar for WebKit browsers */
    }

    .task-list {
        scrollbar-width: none; /* Hide scrollbar for Firefox */
    }

    /* Task Item (Default Style) */
    .task-item {
        @apply flex items-center justify-between;
        color: var(--primary-color);
        border-radius: 0.5rem;
        padding: 1rem;
        transition: box-shadow 0.3s ease, transform 0.3s ease, opacity 0.3s ease;
    }
    

    .task-item:hover {
        box-shadow: var(--shadow-hover);
        transform: translateY(-3px);
        cursor: pointer;
    }

    .task-item.up {
        transform: translateY(-20px); /* Move up */
        opacity: 1;
    }
    
    .task-item.down {
        transform: translateY(20px); /* Move down */
        opacity: 1;
    }
    
    .task-item.fade-out {
        opacity: 0; /* Fades out for removal */
    }

    /* Active Task */
    .active-task {
        @apply flex items-center justify-between;
        border-radius: 0.5rem;
        padding: 1rem;
        background-color: var(--background-color);
        color: var(--primary-color);
        box-shadow: var(--shadow-light), var(--shadow-dark);
    }

    /* Icon Buttons (Edit and Delete) */
    .icon-button {
        background-color: var(--background-color);
        color: var(--primary-color);
        border-radius: 50%;
        padding: 0.5rem;
        transition: background-color 0.3s ease, transform 0.2s ease;
    }

    .icon-button:hover {
        background-color: var(--accent-color);
        color: var(--background-color);
        transform: scale(1.1);
    }

    /* Edit and Delete Specific Buttons */
    .edit-button {
        /* Additional styles for edit button, if needed */
        
    }

    .delete-button {
        /* Additional styles for delete button, if needed */
    }

    .task-buttons {
        @apply flex gap-4;
    }

    .archived {
        @apply flex items-center justify-between px-6 py-2;
        color: var(--primary-color);
    }

    .archived-list {
        @apply overflow-y-auto relative;
    }

    .archived-list::-webkit-scrollbar {
        display: none; /* Hide scrollbar for WebKit browsers */
    }

    .archived-list {
        scrollbar-width: none; /* Hide scrollbar for Firefox */
    }

    .neumorphic-musicplay-button {
        @apply text-xs font-semibold w-10 h-10 py-2 px-2 rounded-lg flex items-center justify-center overflow-hidden relative;
        color: var(--primary-color);
        background-color: var(--background-color);
        box-shadow: var(--shadow-light), var(--shadow-dark);
        transition: transform 0.1s ease-in-out;
        white-space: nowrap; /* Ensure text stays in a single line */
    }

    .neumorphic-musicplay-button:active {
        transform: scale(0.95);
        box-shadow: inset var(--shadow-light), inset var(--shadow-dark);
    }

    
    .neumorphic-music-button {
        @apply text-xs font-semibold w-14 h-10 rounded-lg flex items-center justify-center overflow-hidden relative;
        color: var(--primary-color);
        background-color: var(--background-color);
        box-shadow: var(--shadow-light), var(--shadow-dark);
        transition: transform 0.1s ease-in-out;
        white-space: nowrap; /* Ensure text stays in a single line */
    }
    
    .neumorphic-music-button span {
        @apply px-1;
        display: inline-block;
        position: absolute;
        animation: scroll-text 6s linear infinite; /* Continuous scrolling animation */
        white-space: nowrap; /* Ensure the text does not wrap to the next line */
    }
    
    /* Active state for the button */
    .neumorphic-music-button:active {
        transform: scale(0.95);
        box-shadow: inset var(--shadow-light), inset var(--shadow-dark);
    }
    
    /* Keyframes for infinite right-to-left scrolling */
    @keyframes scroll-text {
        0% {
            transform: translateX(100%); /* Start off-screen to the right */
        }
        100% {
            transform: translateX(-100%); /* Move completely off-screen to the left */
        }
    }

    .music-active {
        box-shadow: none;   
    }

    .track-info {
        @apply text-base overflow-hidden relative whitespace-nowrap;
        color: var(--primary-color);
        height: 1.5em; /* Ensure consistent height to prevent content disappearing */
        /* ensure no text wrapping */
        white-space: nowrap;
    }
    
    .track-info span {
        display: inline-block;
        position: absolute;
        white-space: nowrap;
        left: 0; /* Start from the left edge */
        top: 0; /* Ensure it aligns with the container */
        animation: none; /* Default state: no animation */
    }
    
    /* Keyframes for infinite scrolling */
    @keyframes scroll-track-text {
        0% {
            transform: translateX(100%); /* Start completely off-screen to the right */
        }
        100% {
            transform: translateX(-100%); /* Move completely off-screen to the left */
        }
    }

    .volume-label {
        @apply text-xs font-semibold;
        color: var(--primary-color);
    }

    /* Just for Volume Slider */
    .neumorphic-slider {
        --tw-shadow: 0.5rem 0.5rem 1rem rgba(0, 0, 0, 0.2), -0.5rem -0.5rem 1rem rgba(255, 255, 255, 0.7);
        --slider-track-height: 8px;

        background: var(--background-color);
        border-radius: 999px;
        /* box-shadow: var(--tw-shadow); */
        height: var(--slider-track-height);
        outline: none;
        -webkit-appearance: none;
        position: relative;
        margin: 0;
        padding: 0;
    }

    /* Track styling */
    .neumorphic-slider::-webkit-slider-runnable-track {
        background: var(--primary-color);
        border-radius: 999px;
        height: var(--slider-track-height);
        box-shadow: inset 0.2rem 0.2rem 0.5rem rgba(0, 0, 0, 0.2), inset -0.2rem -0.2rem 0.5rem rgba(255, 255, 255, 0.8);
    }

    .neumorphic-slider::-moz-range-track {
        background: var(--primary-color);
        border-radius: 999px;
        height: var(--slider-track-height);
        box-shadow: inset 0.2rem 0.2rem 0.5rem rgba(0, 0, 0, 0.2), inset -0.2rem -0.2rem 0.5rem rgba(255, 255, 255, 0.8);
    }

    .neumorphic-slider::-ms-track {
        background: transparent;
        border-color: transparent;
        color: transparent;
    }

    /* Thumb styling */
    .neumorphic-slider::-webkit-slider-thumb {
        appearance: none;
        width: 12px; /* Adjust thumb size */
        height: 12px; /* Match the size for alignment */
        margin-top: -2px; /* Center the thumb */
        background-color: var(--accent-color);
        border-radius: 50%;
        /* box-shadow: 0.2rem 0.2rem 0.6rem rgba(0, 0, 0, 0.3), -0.2rem -0.2rem 0.6rem rgba(255, 255, 255, 0.8); */
        /* box shadow with accent color */
        box-shadow: 0 0 1rem var(--accent-color);
        cursor: pointer;
        transition: transform 0.2s ease;
    }

    .neumorphic-slider::-webkit-slider-thumb:hover {
        transform: scale(1.2); /* Add hover effect */
    }

    .neumorphic-slider::-moz-range-thumb {
        width: 12px; /* Match thumb size */
        height: 12px;
        background-color: var(--accent-color);
        border-radius: 50%;
        /* box-shadow: 0.2rem 0.2rem 0.6rem rgba(0, 0, 0, 0.3), -0.2rem -0.2rem 0.6rem rgba(255, 255, 255, 0.8); */
        cursor: pointer;
        transition: transform 0.2s ease;
    }

    .neumorphic-slider::-moz-range-thumb:hover {
        transform: scale(1.2);
    }

    .neumorphic-slider::-ms-thumb {
        width: 12px; /* Match thumb size */
        height: 12px;
        background-color: var(--accent-color);
        border-radius: 50%;
        /* box-shadow: 0.2rem 0.2rem 0.6rem rgba(0, 0, 0, 0.3), -0.2rem -0.2rem 0.6rem rgba(255, 255, 255, 0.8); */
        cursor: pointer;
        transition: transform 0.2s ease;
    }

    .neumorphic-slider::-ms-thumb:hover {
        transform: scale(1.2);
    }
}
